<Window x:Class="PressureTimerApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="紧凑型倒计时系统" Height="800" Width="1200"
        WindowState="Maximized" Loaded="Window_Loaded">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 输入控制面板 -->
        <GroupBox Grid.Row="0" Header="输入控制" Margin="5" Padding="5">
            <StackPanel Orientation="Horizontal">
                <!-- 输入模式选择 -->
                <StackPanel Orientation="Vertical" Margin="5">
                    <TextBlock Text="输入模式" FontWeight="Bold" Margin="0,0,0,2"/>
                    <ComboBox x:Name="cmbInputMode" Width="100" Height="25"
                             SelectionChanged="InputMode_SelectionChanged">
                        <ComboBoxItem Content="通用" Tag="General"/>
                        <ComboBoxItem Content="双输入框" Tag="DoubleInput"/>
                        <ComboBoxItem Content="三输入框" Tag="TripleInput"/>
                    </ComboBox>
                </StackPanel>

                <!-- 通用模式控件 -->
                <StackPanel x:Name="pnlGeneral" Orientation="Vertical" Margin="5">
                    <TextBlock Text="计时器编码" FontWeight="Bold" Margin="0,0,0,2"/>
                    <TextBox x:Name="txtTimerCodeGeneral" Width="80" Height="25"
                            KeyDown="TxtTimerCodeGeneral_KeyDown"
                            ToolTip="格式: A-01, B-02, Z-13 等"/>
                </StackPanel>

                <!-- 双输入框模式控件 -->
                <StackPanel x:Name="pnlDoubleInput" Orientation="Vertical" Margin="5" Visibility="Collapsed">
                    <TextBlock Text="条码输入" FontWeight="Bold" Margin="0,0,0,2"/>
                    <TextBox x:Name="txtBarcodeDouble" Width="150" Height="25"
                            KeyDown="TxtBarcodeDouble_KeyDown"
                            ToolTip="输入条码后按回车"/>
                </StackPanel>

                <StackPanel x:Name="pnlDoubleInput2" Orientation="Vertical" Margin="5" Visibility="Collapsed">
                    <TextBlock Text="计时器编码" FontWeight="Bold" Margin="0,0,0,2"/>
                    <TextBox x:Name="txtTimerCodeDouble" Width="80" Height="25"
                            KeyDown="TxtTimerCodeDouble_KeyDown"
                            ToolTip="格式: A-01, B-02, Z-13 等"/>
                </StackPanel>

                <!-- 三输入框模式控件 -->
                <StackPanel x:Name="pnlTripleInput" Orientation="Vertical" Margin="5" Visibility="Collapsed">
                    <TextBlock Text="条码输入" FontWeight="Bold" Margin="0,0,0,2"/>
                    <TextBox x:Name="txtBarcodeTriple" Width="150" Height="25"
                            KeyDown="TxtBarcodeTriple_KeyDown"
                            ToolTip="输入条码后按回车"/>
                </StackPanel>

                <StackPanel x:Name="pnlTripleInput2" Orientation="Vertical" Margin="5" Visibility="Collapsed">
                    <TextBlock Text="计时器编码" FontWeight="Bold" Margin="0,0,0,2"/>
                    <TextBox x:Name="txtTimerCodeTriple" Width="80" Height="25"
                            KeyDown="TxtTimerCodeTriple_KeyDown"
                            ToolTip="格式: A-01, B-02, Z-13 等"/>
                </StackPanel>

                <StackPanel x:Name="pnlTripleInput3" Orientation="Vertical" Margin="5" Visibility="Collapsed">
                    <TextBlock Text="计时器编码-2" FontWeight="Bold" Margin="0,0,0,2"/>
                    <TextBox x:Name="txtTimerCodeTriple2" Width="80" Height="25"
                            KeyDown="TxtTimerCodeTriple2_KeyDown"
                            ToolTip="格式: A-01, B-02, Z-13 等"/>
                </StackPanel>

                <!-- 倒计时信息 -->
                <StackPanel Orientation="Vertical" Margin="5">
                    <TextBlock Text="倒计时设置" FontWeight="Bold" Margin="0,0,0,2"/>
                    <TextBlock x:Name="txtDurationInfo" Text="3600秒" 
                              VerticalAlignment="Center" Margin="5,0"/>
                </StackPanel>

                <!-- 状态显示 -->
                <StackPanel Orientation="Vertical" Margin="5">
                    <TextBlock Text="系统状态" FontWeight="Bold" Margin="0,0,0,2"/>
                    <TextBlock x:Name="txtStatus" Text="就绪" 
                              VerticalAlignment="Center" Margin="5,0"/>
                </StackPanel>

                <!-- 工站顺序信息 -->
                <StackPanel Orientation="Vertical" Margin="5">
                    <TextBlock Text="工站顺序" FontWeight="Bold" Margin="0,0,0,2"/>
                    <TextBlock x:Name="txtWorkstationSequence" Text="正在加载..." 
              VerticalAlignment="Center" Margin="5,0" Foreground="#2E8B57"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <!-- 计时器显示区域 - 占满整个屏幕宽度 -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <ItemsControl x:Name="mainContainer">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Vertical"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <ContentPresenter Content="{Binding}"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</Window>